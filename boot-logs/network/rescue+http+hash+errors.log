[2021-06-04 17:27:56] bootchained: Starting server [INITRAMFS 2.17.0]...
[2021-06-04 17:27:56] bootchained: Booting with /proc/cmdline:
============================================================
initrd=initrd.img fastboot live root=bootchain bootchain=fg,altboot bc_debug live_rw automatic=method:http,network:dhcp ip=dhcp stagename=rescue ramdisk_size=620607 splash=0 showopts max_loop=16 forensic hash=738e8e7deec05443b369a9d02e2dc897630d693a6888ee9997f6d6bd09ecf552
============================================================

[2021-06-04 17:27:56] bootchained: RUN: mkdir -p -- /dev/bootchain /.initrd/bootchain/passed
[2021-06-04 17:27:56] bootchained: RUN: mount -t tmpfs tmpfs /dev/bootchain
[2021-06-04 17:27:56] bootchain-loop: LET: callnum="0"
[2021-06-04 17:27:56] bootchain-loop: [0] Switching to foreground
[2021-06-04 17:27:56] bootchain-loop: LET: callnum_fg="1"
[2021-06-04 17:27:56] bootchain-loop: TTY2 will be activated after 2 seconds
[2021-06-04 17:27:57] bootchain-loop: LET: callnum="0"
[2021-06-04 17:27:57] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step0 /dev/bootchain/dst/step0
[2021-06-04 17:27:57] bootchain-loop: [0] Handler: /lib/bootchain/altboot
[2021-06-04 17:27:57] debug: debug for altboot [0] started
[2021-06-04 17:27:57] debug: PREV DIR: 
[2021-06-04 17:27:57] debug: Data DIR: /dev/bootchain/src/step0
[2021-06-04 17:27:57] debug: DEST DIR: /dev/bootchain/dst/step0
############################################################
[2021-06-04 17:27:57] debug: debug for altboot [0] finished
[2021-06-04 17:27:57] bootchain-loop: RUN: /lib/bootchain/altboot
[2021-06-04 17:27:57] altboot: [0] altboot started (automatic='method:http,network:dhcp')
[2021-06-04 17:27:57] altboot: [0] WELCOME TEXT: 'Welcome to ALT!'
[2021-06-04 17:27:57] altboot: [0] DISTRIBUTION: 'ALT Workstation 10'
[2021-06-04 17:27:57] altboot: [0] ENTER: altboot_config
[2021-06-04 17:27:57] altboot: [0] RUN: ls -1 -- /lib/altboot/automatic.d/
[2021-06-04 17:27:57] altboot: [0] ENTER: use_hooks
[2021-06-04 17:27:57] altboot: [0] HOOKS: 'automatic.d'
[2021-06-04 17:27:57] altboot: [0] USING: 'automatic.d/directory'
[2021-06-04 17:27:57] altboot: [0] LEAVE: use_hooks
[2021-06-04 17:27:57] altboot: [0] ENTER: use_hooks
[2021-06-04 17:27:57] altboot: [0] HOOKS: 'add-methods.d'
[2021-06-04 17:27:57] altboot: [0] USING: 'add-methods.d/100-nfs'
[2021-06-04 17:27:57] altboot: [0] boot method registered: 'nfs'
[2021-06-04 17:27:57] altboot: [0] USING: 'add-methods.d/150-ftp'
[2021-06-04 17:27:57] altboot: [0] boot method registered: 'ftp'
[2021-06-04 17:27:57] altboot: [0] USING: 'add-methods.d/250-http'
[2021-06-04 17:27:57] altboot: [0] boot method registered: 'http'
[2021-06-04 17:27:57] altboot: [0] USING: 'add-methods.d/450-cifs'
[2021-06-04 17:27:57] altboot: [0] boot method registered: 'cifs'
[2021-06-04 17:27:57] altboot: [0] USING: 'add-methods.d/750-cdrom'
[2021-06-04 17:27:57] altboot: [0] boot method registered: 'cdrom'
[2021-06-04 17:27:57] altboot: [0] USING: 'add-methods.d/850-disk'
[2021-06-04 17:27:57] altboot: [0] boot method registered: 'disk'
[2021-06-04 17:27:57] altboot: [0] LEAVE: use_hooks
[2021-06-04 17:27:57] altboot: [0] RUN: ls -1 -- /lib/altboot/global-args.d/
[2021-06-04 17:27:57] altboot: [0] ENTER: use_hooks
[2021-06-04 17:27:57] altboot: [0] HOOKS: 'translate.d'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/050-overlays'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/070-lowmem'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/100-cifs'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/100-download'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/100-localdev'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/100-nfs'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/350-squashfs'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/520-liverw'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/550-liveboot'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/650-liverw'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/750-liveboot'
[2021-06-04 17:27:57] altboot: [0] USING: 'translate.d/950-liveboot'
[2021-06-04 17:27:57] altboot: [0] LEAVE: use_hooks
[2021-06-04 17:27:57] altboot: [0] BOOTCHAIN REPLACED: 'download,iso9660,checksum,squashfs,liveboot,rootfs'
[2021-06-04 17:27:57] altboot: [0] LEAVE: altboot_config
[2021-06-04 17:27:57] altboot: [0] ENTER: use_hooks
[2021-06-04 17:27:57] altboot: [0] HOOKS: 'forget-args.d'
[2021-06-04 17:27:57] altboot: [0] USING: 'forget-args.d/100-altboot'
[2021-06-04 17:27:57] altboot: [0] USING: 'forget-args.d/300-localdev'
[2021-06-04 17:27:57] altboot: [0] USING: 'forget-args.d/400-liverw'
[2021-06-04 17:27:57] altboot: [0] LEAVE: use_hooks
[2021-06-04 17:27:57] altboot: [0] altboot steps configuration (/.initrd/bootchain/altboot.conf):
============================================================
ALTBOOT_OLDROOT=1
ALTBOOT_STEPS="download iso9660 checksum squashfs liveboot"
ALTBOOT_CHECKSUM0=":738e8e7deec05443b369a9d02e2dc897630d693a6888ee9997f6d6bd09ecf552:/rescue"
ALTBOOT_CHECKSUM=1
ALTBOOT_CIFS0=""
ALTBOOT_CIFS=
ALTBOOT_DOWNLOAD0="to=RD;method=http"
ALTBOOT_DOWNLOAD=1
ALTBOOT_LIVEBOOT0="stagename=rescue;method=http;flags=live_ro,rescue,live_rw"
ALTBOOT_LIVEBOOT=1
ALTBOOT_LOCALDEV0=""
ALTBOOT_LOCALDEV=
ALTBOOT_NFS0=""
ALTBOOT_NFS=
ALTBOOT_SQUASHFS0="/rescue"
ALTBOOT_SQUASHFS=1
unset AUTOMATIC
unset STAGENAME
unset PROFILE
unset HASH
unset RESCUE
unset LIVE
unset LOWMEM
unset UPDATEMODULES
unset LIVE_RW
============================================================

[2021-06-04 17:27:57] altboot: [0] ENTER: bypass_results
[2021-06-04 17:27:57] altboot: [0] LEAVE: bypass_results
[2021-06-04 17:27:57] altboot: [0] altboot finished
[2021-06-04 17:27:58] bootchain-loop: chain will be reloaded by /.initrd/bootchain/bootchain.next:
============================================================
chainsteps="download,iso9660,checksum,squashfs,liveboot,rootfs"
============================================================

[2021-06-04 17:27:58] bootchain-loop: RUN: rm -f -- /.initrd/bootchain/bootchain.next
[2021-06-04 17:27:58] bootchain-loop: remaining steps: download,iso9660,checksum,squashfs,liveboot,rootfs
[2021-06-04 17:27:58] bootchain-loop: LET: callnum="0"
[2021-06-04 17:27:58] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step1 /dev/bootchain/dst/step1
[2021-06-04 17:27:58] bootchain-loop: [0] Handler: /lib/bootchain/download
[2021-06-04 17:27:58] debug: debug for download [0] started
[2021-06-04 17:27:58] debug: PREV DIR: /dev/bootchain/dst/step0
[2021-06-04 17:27:58] debug: Data DIR: /dev/bootchain/src/step1
[2021-06-04 17:27:58] debug: DEST DIR: /dev/bootchain/dst/step1
##############################
Previous step results (/dev/bootchain/dst/step0):
##############################
[2021-06-04 17:27:58] debug: debug for download [0] finished
[2021-06-04 17:27:58] bootchain-loop: RUN: /lib/bootchain/download
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: to="RD"
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: method="http"
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: url=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: server=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: directory=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: user=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: pass=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: imgsize=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] ENTER: get_bootarg
[2021-06-04 17:27:58] download: [0] LET: timeout=""
[2021-06-04 17:27:58] download: [0] LEAVE: get_bootarg
[2021-06-04 17:27:58] download: [0] download started (to=RD;method=http)
[2021-06-04 17:27:58] download: [0] ENTER: get_free_ramdisk
[2021-06-04 17:27:58] download: [0] LET: to="/dev/ram0"
[2021-06-04 17:27:58] download: [0] LEAVE: get_free_ramdisk
[2021-06-04 17:27:58] download: [0] ENTER: mark_used_ramdisk
[2021-06-04 17:27:58] download: [0] RUN: mkdir -p -- /.initrd/ramdisks
[2021-06-04 17:27:58] download: [0] RUN: touch -- /.initrd/ramdisks/0
[2021-06-04 17:27:58] download: [0] LEAVE: mark_used_ramdisk
[2021-06-04 17:27:58] download: [0] ENTER: download_input_form
[2021-06-04 17:27:58] download: [0] ENTER: http_input_form
[2021-06-04 17:28:22] download: [0] LEAVE: http_input_form
[2021-06-04 17:28:22] download: [0] LEAVE: download_input_form
[2021-06-04 17:28:22] download: [0] ENTER: get_file_size
[2021-06-04 17:28:22] download: [0] RUN: mktemp -t
[2021-06-04 17:28:22] download: retrieving image file size: 'http://192.168.1.15/srv/public'
[2021-06-04 17:28:22] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:25] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:28] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:31] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:34] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:37] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:40] download: [0] RUN: curl -sI -- http://192.168.1.15/srv/public
[2021-06-04 17:28:43] download: [0] RUN: rm -f -- /tmp/tmp.8WwEh5
[2021-06-04 17:28:43] download: can't retrieve image/file size by specified URL
[2021-06-04 17:28:43] download: [0] LEAVE: get_file_size
[2021-06-04 17:28:43] download: [0] iteration failed (rc=1, determinate file size)
[2021-06-04 17:28:46] download: connection error or bad URL/filename: 'http://192.168.1.15/srv/public', go to the next ring
[2021-06-04 17:28:46] download: [0] ENTER: download_input_form
[2021-06-04 17:28:46] download: [0] ENTER: http_input_form
[2021-06-04 17:28:56] download: [0] LEAVE: http_input_form
[2021-06-04 17:28:56] download: [0] LEAVE: download_input_form
[2021-06-04 17:28:57] download: [0] ENTER: get_file_size
[2021-06-04 17:28:57] download: [0] RUN: mktemp -t
[2021-06-04 17:28:57] download: retrieving image file size: 'http://192.168.15.1/srv/public'
[2021-06-04 17:28:57] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:28:57 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:00] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:00 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:03] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:03 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:06] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:06 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:09] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:09 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:12] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:12 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:15] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public
============================================================
HTTP/1.1 301 Moved Permanently
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:15 GMT
Content-Type: text/html
Content-Length: 169
Location: http://192.168.15.1/srv/public/
Connection: keep-alive

============================================================

[2021-06-04 17:29:18] download: [0] RUN: rm -f -- /tmp/tmp.Fhm8K3
[2021-06-04 17:29:18] download: can't retrieve image/file size by specified URL
[2021-06-04 17:29:18] download: [0] LEAVE: get_file_size
[2021-06-04 17:29:18] download: [0] iteration failed (rc=1, determinate file size)
[2021-06-04 17:29:19] download: connection error or bad URL/filename: 'http://192.168.15.1/srv/public', go to the next ring
[2021-06-04 17:29:19] download: [0] ENTER: download_input_form
[2021-06-04 17:29:19] download: [0] ENTER: http_input_form
[2021-06-04 17:29:33] download: [0] LEAVE: http_input_form
[2021-06-04 17:29:33] download: [0] LEAVE: download_input_form
[2021-06-04 17:29:33] download: [0] ENTER: get_file_size
[2021-06-04 17:29:33] download: [0] RUN: mktemp -t
[2021-06-04 17:29:33] download: retrieving image file size: 'http://192.168.15.1/srv/public/netinst/'
[2021-06-04 17:29:33] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:33 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:36] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:36 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:39] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:39 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:42] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:42 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:45] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:45 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:48] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:48 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:51] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/
============================================================
HTTP/1.1 403 Forbidden
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:29:51 GMT
Content-Type: text/html
Content-Length: 153
Connection: keep-alive

============================================================

[2021-06-04 17:29:54] download: [0] RUN: rm -f -- /tmp/tmp.Q6Z6Rd
[2021-06-04 17:29:55] download: can't retrieve image/file size by specified URL
[2021-06-04 17:29:55] download: [0] LEAVE: get_file_size
[2021-06-04 17:29:55] download: [0] iteration failed (rc=1, determinate file size)
[2021-06-04 17:29:57] download: connection error or bad URL/filename: 'http://192.168.15.1/srv/public/netinst/', go to the next ring
[2021-06-04 17:29:57] download: [0] ENTER: download_input_form
[2021-06-04 17:29:57] download: [0] ENTER: http_input_form
[2021-06-04 17:30:02] download: [0] LEAVE: http_input_form
[2021-06-04 17:30:02] download: [0] LEAVE: download_input_form
[2021-06-04 17:30:02] download: [0] ENTER: get_file_size
[2021-06-04 17:30:02] download: [0] RUN: mktemp -t
[2021-06-04 17:30:02] download: retrieving image file size: 'http://192.168.15.1/srv/public/netinst/current'
[2021-06-04 17:30:02] download: [0] RUN: curl -sI -- http://192.168.15.1/srv/public/netinst/current
============================================================
HTTP/1.1 200 OK
Server: nginx/1.18.0
Date: Fri, 04 Jun 2021 14:30:02 GMT
Content-Type: application/octet-stream
Content-Length: 635500544
Last-Modified: Fri, 04 Jun 2021 13:14:40 GMT
Connection: keep-alive
ETag: "60ba2740-25e0f800"
Accept-Ranges: bytes

============================================================

[2021-06-04 17:30:02] download: [0] RUN: rm -f -- /tmp/tmp.6v2ERd
[2021-06-04 17:30:03] download: [0] LEAVE: get_file_size
[2021-06-04 17:30:03] download: [0] ENTER: check_avail_space
[2021-06-04 17:30:03] download: available: 620607 KiB, required: 620607 KiB
[2021-06-04 17:30:03] download: [0] LEAVE: check_avail_space
[2021-06-04 17:30:03] download: [0] ENTER: download_image
[2021-06-04 17:30:03] download: downloading image: 'http://192.168.15.1/srv/public/netinst/current'
[2021-06-04 17:30:04] download: [0] RUN: sync
[2021-06-04 17:30:04] download: [0] LEAVE: download_image
[2021-06-04 17:30:04] download: [0] ENTER: lomount
[2021-06-04 17:30:04] download: [0] RUN: losetup -Lrf --show -- /dev/ram0
[2021-06-04 17:30:04] download: [0] losetup('/dev/ram0') result: '/dev/loop0'
[2021-06-04 17:30:04] download: [0] LET: devname="/dev/loop0"
[2021-06-04 17:30:04] download: [0] LEAVE: lomount
[2021-06-04 17:30:04] download: [0] DEVNAME: /dev/loop0
[2021-06-04 17:30:04] download: [0] FILESIZE: 635500544
[2021-06-04 17:30:04] download: [0] RUN: cp -a -- /dev/loop0 /dev/bootchain/dst/step1/dev
[2021-06-04 17:30:04] download: [0] ENTER: stage2_getenv
[2021-06-04 17:30:04] download: [0] KEY: 'METHOD'
[2021-06-04 17:30:04] download: [0] LEAVE: stage2_getenv
[2021-06-04 17:30:04] download: [0] ENTER: stage2_setenv
[2021-06-04 17:30:04] download: [0] ARGS: METHOD='http'
[2021-06-04 17:30:04] download: [0] LEAVE: stage2_setenv
[2021-06-04 17:30:04] download: [0] ENTER: stage2_setenv
[2021-06-04 17:30:04] download: [0] ARGS: HOST='192.168.15.1'
[2021-06-04 17:30:04] download: [0] LEAVE: stage2_setenv
[2021-06-04 17:30:04] download: [0] ENTER: stage2_setenv
[2021-06-04 17:30:04] download: [0] ARGS: PREFIX='/srv/public/netinst/current'
[2021-06-04 17:30:04] download: [0] LEAVE: stage2_setenv
[2021-06-04 17:30:04] download: [0] download finished
[2021-06-04 17:30:04] bootchain-loop: RUN: touch /.initrd/bootchain/passed/download
[2021-06-04 17:30:04] bootchain-loop: LET: callnum_download="1"
[2021-06-04 17:30:04] bootchain-loop: remaining steps: iso9660,checksum,squashfs,liveboot,rootfs
[2021-06-04 17:30:04] bootchain-loop: LET: callnum="0"
[2021-06-04 17:30:04] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step2 /dev/bootchain/dst/step2
[2021-06-04 17:30:04] bootchain-loop: [0] Handler: /lib/bootchain/iso9660
[2021-06-04 17:30:04] debug: debug for iso9660 [0] started
[2021-06-04 17:30:04] debug: PREV DIR: /dev/bootchain/dst/step1
[2021-06-04 17:30:04] debug: Data DIR: /dev/bootchain/src/step2
[2021-06-04 17:30:04] debug: DEST DIR: /dev/bootchain/dst/step2
##############################
Previous step results (/dev/bootchain/dst/step1):
dev (7:0 -> /dev/loop0)
DEVNAME (7:0 -> /dev/loop0)
FILESIZE (635500544)
##############################
[2021-06-04 17:30:04] debug: debug for iso9660 [0] finished
[2021-06-04 17:30:04] bootchain-loop: RUN: /lib/bootchain/iso9660
[2021-06-04 17:30:04] iso9660: [0] iso9660 started
[2021-06-04 17:30:04] iso9660: [0] RUN: mkdir -p -- /image
[2021-06-04 17:30:04] iso9660: [0] RUN: mount -t iso9660 -o ro -- /dev/loop0 /image
[2021-06-04 17:30:04] iso9660: [0] ENTER: bypass_results
[2021-06-04 17:30:04] iso9660: [0] RUN: rmdir -- /dev/bootchain/dst/step2
[2021-06-04 17:30:04] iso9660: [0] RUN: ln -snf -- /image /dev/bootchain/dst/step2
[2021-06-04 17:30:04] iso9660: [0] LEAVE: bypass_results
[2021-06-04 17:30:04] iso9660: [0] iso9660 finished
[2021-06-04 17:30:04] bootchain-loop: RUN: touch /.initrd/bootchain/passed/iso9660
[2021-06-04 17:30:04] bootchain-loop: LET: callnum_iso9660="1"
[2021-06-04 17:30:04] bootchain-loop: remaining steps: checksum,squashfs,liveboot,rootfs
[2021-06-04 17:30:04] bootchain-loop: LET: callnum="0"
[2021-06-04 17:30:04] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step3 /dev/bootchain/dst/step3
[2021-06-04 17:30:04] bootchain-loop: [0] Handler: /lib/bootchain/checksum
[2021-06-04 17:30:04] debug: debug for checksum [0] started
[2021-06-04 17:30:04] debug: PREV DIR: /image
[2021-06-04 17:30:04] debug: Data DIR: /dev/bootchain/src/step3
[2021-06-04 17:30:04] debug: DEST DIR: /dev/bootchain/dst/step3
##############################
Previous step results (/image):
2021-06-04-13-08-52-00
EFI/
boot/
docs/
license.all.html
license.ru.html
rescue
##############################
[2021-06-04 17:30:04] debug: debug for checksum [0] finished
[2021-06-04 17:30:04] bootchain-loop: RUN: /lib/bootchain/checksum
[2021-06-04 17:30:04] checksum: [0] ENTER: get_bootarg
[2021-06-04 17:30:04] checksum: [0] LET: CHECKSUM=":738e8e7deec05443b369a9d02e2dc897630d693a6888ee9997f6d6bd09ecf552:/rescue"
[2021-06-04 17:30:04] checksum: [0] LEAVE: get_bootarg
[2021-06-04 17:30:04] checksum: [0] checksum started (:738e8e7deec05443b369a9d02e2dc897630d693a6888ee9997f6d6bd09ecf552:/rescue)
[2021-06-04 17:30:04] checksum: [0] ENTER: check_prevstep_results
[2021-06-04 17:30:04] checksum: [0] RUN: stat -L -c%s -- /image/rescue
[2021-06-04 17:30:04] checksum: [0] LEAVE: check_prevstep_results
[2021-06-04 17:30:04] checksum: [0] hash summa: 738e8e7deec05443b369a9d02e2dc897630d693a6888ee9997f6d6bd09ecf552
[2021-06-04 17:30:04] checksum: [0] hash data size: 533274624
[2021-06-04 17:30:04] checksum: [0] hash check program: sha256sum
[2021-06-04 17:30:04] checksum: calculating image checksum for '/rescue'...
[2021-06-04 17:30:07] checksum: [0] calculated hash: 738e8e7deec05443b369a9d02e2dc897630d693a6888ee9997f6d6bd09ecf552
[2021-06-04 17:30:07] checksum: checksum verified successfully
[2021-06-04 17:30:07] checksum: [0] ENTER: bypass_results
[2021-06-04 17:30:07] checksum: [0] RUN: rmdir -- /dev/bootchain/dst/step3
[2021-06-04 17:30:07] checksum: [0] RUN: ln -snf -- /image /dev/bootchain/dst/step3
[2021-06-04 17:30:07] checksum: [0] LEAVE: bypass_results
[2021-06-04 17:30:07] checksum: [0] checksum finished
[2021-06-04 17:30:07] bootchain-loop: RUN: touch /.initrd/bootchain/passed/checksum
[2021-06-04 17:30:07] bootchain-loop: LET: callnum_checksum="1"
[2021-06-04 17:30:07] bootchain-loop: remaining steps: squashfs,liveboot,rootfs
[2021-06-04 17:30:07] bootchain-loop: LET: callnum="0"
[2021-06-04 17:30:07] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step4 /dev/bootchain/dst/step4
[2021-06-04 17:30:07] bootchain-loop: [0] Handler: /lib/bootchain/squashfs
[2021-06-04 17:30:07] debug: debug for squashfs [0] started
[2021-06-04 17:30:07] debug: PREV DIR: /image
[2021-06-04 17:30:07] debug: Data DIR: /dev/bootchain/src/step4
[2021-06-04 17:30:07] debug: DEST DIR: /dev/bootchain/dst/step4
##############################
Previous step results (/image):
2021-06-04-13-08-52-00
EFI/
boot/
docs/
license.all.html
license.ru.html
rescue
##############################
[2021-06-04 17:30:07] debug: debug for squashfs [0] finished
[2021-06-04 17:30:07] bootchain-loop: RUN: /lib/bootchain/squashfs
[2021-06-04 17:30:07] squashfs: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] squashfs: [0] LET: SQUASHFS="/rescue"
[2021-06-04 17:30:07] squashfs: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] squashfs: [0] squashfs started (/rescue)
[2021-06-04 17:30:07] squashfs: [0] ENTER: lomount
[2021-06-04 17:30:07] squashfs: [0] RUN: losetup -Lrf --show -- /image/rescue
[2021-06-04 17:30:07] squashfs: [0] losetup('/image/rescue') result: '/dev/loop1'
[2021-06-04 17:30:07] squashfs: [0] LET: devname="/dev/loop1"
[2021-06-04 17:30:07] squashfs: [0] LEAVE: lomount
[2021-06-04 17:30:07] squashfs: [0] RUN: mount -t squashfs -r -- /dev/loop1 /root
[2021-06-04 17:30:07] squashfs: [0] ENTER: bypass_results
[2021-06-04 17:30:07] squashfs: [0] RUN: rmdir -- /dev/bootchain/dst/step4
[2021-06-04 17:30:07] squashfs: [0] RUN: ln -snf -- /root /dev/bootchain/dst/step4
[2021-06-04 17:30:07] squashfs: [0] LEAVE: bypass_results
[2021-06-04 17:30:07] squashfs: [0] squashfs finished
[2021-06-04 17:30:07] bootchain-loop: RUN: touch /.initrd/bootchain/passed/squashfs
[2021-06-04 17:30:07] bootchain-loop: LET: callnum_squashfs="1"
[2021-06-04 17:30:07] bootchain-loop: remaining steps: liveboot,rootfs
[2021-06-04 17:30:07] bootchain-loop: LET: callnum="0"
[2021-06-04 17:30:07] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step5 /dev/bootchain/dst/step5
[2021-06-04 17:30:07] bootchain-loop: [0] Handler: /lib/bootchain/liveboot
[2021-06-04 17:30:07] debug: debug for liveboot [0] started
[2021-06-04 17:30:07] debug: PREV DIR: /root
[2021-06-04 17:30:07] debug: Data DIR: /dev/bootchain/src/step5
[2021-06-04 17:30:07] debug: DEST DIR: /dev/bootchain/dst/step5
##############################
Previous step results (/root):
bin/
boot/
dev/
etc/
home/
image/
lib/
lib64/
libx32/
media/
mnt/
opt/
proc/
root/
run/
sbin/
selinux/
srv/
sys/
tmp/
##############################
[2021-06-04 17:30:07] debug: debug for liveboot [0] finished
[2021-06-04 17:30:07] bootchain-loop: RUN: /lib/bootchain/liveboot
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: stagename="rescue"
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: method="http"
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: directory=""
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: overlayroot=""
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: profile=""
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: overlays=""
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: flags="live_ro,rescue,live_rw"
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] ENTER: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] LET: timeout=""
[2021-06-04 17:30:07] liveboot: [0] LEAVE: get_bootarg
[2021-06-04 17:30:07] liveboot: [0] liveboot started (stagename=rescue;method=http;flags=live_ro,rescue,live_rw)
[2021-06-04 17:30:07] liveboot: [0] RUN: ln -snf /proc/mounts /etc/mtab
[2021-06-04 17:30:07] liveboot: [0] ENTER: use_hooks
[2021-06-04 17:30:07] liveboot: [0] HOOKS: 'liveboot-init.d'
[2021-06-04 17:30:07] liveboot: [0] USING: 'liveboot-init.d/100-overlayroot'
[2021-06-04 17:30:07] liveboot: [0] USING: 'liveboot-init.d/400-liverw'
[2021-06-04 17:30:07] liveboot: [0] USING: 'liveboot-init.d/700-cifs'
[2021-06-04 17:30:07] liveboot: [0] USING: 'liveboot-init.d/700-nfs'
[2021-06-04 17:30:07] liveboot: [0] LEAVE: use_hooks
[2021-06-04 17:30:07] liveboot: running rescue
[2021-06-04 17:30:07] liveboot: [0] ENTER: use_hooks
[2021-06-04 17:30:07] liveboot: [0] HOOKS: 'liveboot-pre.d'
[2021-06-04 17:30:07] liveboot: [0] USING: 'liveboot-pre.d/400-liverw'
[2021-06-04 17:30:07] liveboot: [0] LEAVE: use_hooks
[2021-06-04 17:30:07] liveboot: [0] ENTER: do_overlay
[2021-06-04 17:30:07] liveboot: remounting / with overlayfs
[2021-06-04 17:30:07] liveboot: [0] RUN: mkdir -p -- /root.rw /root.ro
[2021-06-04 17:30:07] liveboot: [0] ENTER: use_hooks
[2021-06-04 17:30:07] liveboot: [0] HOOKS: 'rw-overlay.d'
[2021-06-04 17:30:07] liveboot: [0] USING: 'rw-overlay.d/100-overlayroot'
[2021-06-04 17:30:07] liveboot: [0] USING: 'rw-overlay.d/400-liverw'
[2021-06-04 17:30:07] liveboot: [0] ENTER: liverw_disk_slice
[2021-06-04 17:30:07] liveboot: [0] LEAVE: liverw_disk_slice
[2021-06-04 17:30:08] liveboot: [0] LEAVE: use_hooks
[2021-06-04 17:30:08] liveboot: [0] RUN: mount -t tmpfs -o mode=755 -- none /root.rw
[2021-06-04 17:30:08] liveboot: [0] RUN: mkdir -p -- /root.rw/rw /root.rw/wk
[2021-06-04 17:30:08] liveboot: [0] RUN: mount --move -- /root /root.ro
[2021-06-04 17:30:08] liveboot: [0] ENTER: use_hooks
[2021-06-04 17:30:08] liveboot: [0] HOOKS: 'livecd-slice.d'
[2021-06-04 17:30:08] liveboot: [0] USING: 'livecd-slice.d/300-localdev'
[2021-06-04 17:30:08] liveboot: [0] USING: 'livecd-slice.d/700-cifs'
[2021-06-04 17:30:08] liveboot: [0] USING: 'livecd-slice.d/700-nfs'
[2021-06-04 17:30:08] liveboot: [0] LEAVE: use_hooks
[2021-06-04 17:30:08] liveboot: [0] RUN: mount -t overlay -o lowerdir=/root.ro,upperdir=/root.rw/rw,workdir=/root.rw/wk -- overlay /root
[2021-06-04 17:30:08] liveboot: [0] RUN: mkdir -p -- /root/.ro /root/.rw
[2021-06-04 17:30:08] liveboot: [0] RUN: mount --move -- /root.ro /root/.ro
[2021-06-04 17:30:08] liveboot: [0] RUN: mount --move -- /root.rw /root/.rw
[2021-06-04 17:30:08] liveboot: [0] RUN: rmdir -- /root.rw /root.ro
[2021-06-04 17:30:08] liveboot: rootfs overlayed with overlayfs
[2021-06-04 17:30:08] liveboot: [0] RUN: mkdir -p -- /root/image
[2021-06-04 17:30:08] liveboot: [0] RUN: mount --move -- /image /root/image
[2021-06-04 17:30:08] liveboot: [0] ENTER: use_hooks
[2021-06-04 17:30:08] liveboot: [0] HOOKS: 'liveboot-post.d'
[2021-06-04 17:30:08] liveboot: [0] USING: 'liveboot-post.d/950-altboot'
[2021-06-04 17:30:08] liveboot: [0] ENTER: altboot_cleanup
[2021-06-04 17:30:08] liveboot: Spawning init...
[2021-06-04 17:30:08] liveboot: [0] LEAVE: altboot_cleanup
[2021-06-04 17:30:08] liveboot: [0] LEAVE: use_hooks
[2021-06-04 17:30:08] liveboot: [0] RUN: cp -Lf -- /etc/resolv.conf /root/etc/
[2021-06-04 17:30:08] liveboot: [0] ENTER: bypass_results
[2021-06-04 17:30:08] liveboot: [0] RUN: rmdir -- /dev/bootchain/dst/step5
[2021-06-04 17:30:08] liveboot: [0] RUN: ln -snf -- /root /dev/bootchain/dst/step5
[2021-06-04 17:30:08] liveboot: [0] LEAVE: bypass_results
[2021-06-04 17:30:08] liveboot: [0] LEAVE: do_overlay
[2021-06-04 17:30:08] liveboot: [0] liveboot finished
[2021-06-04 17:30:08] bootchain-loop: RUN: touch /.initrd/bootchain/passed/liveboot
[2021-06-04 17:30:08] bootchain-loop: LET: callnum_liveboot="1"
[2021-06-04 17:30:08] bootchain-loop: remaining steps: rootfs
[2021-06-04 17:30:08] bootchain-loop: LET: callnum="0"
[2021-06-04 17:30:08] bootchain-loop: RUN: mkdir -p -- /dev/bootchain/src/step6 /dev/bootchain/dst/step6
[2021-06-04 17:30:08] bootchain-loop: [0] Handler: /lib/bootchain/rootfs
[2021-06-04 17:30:08] debug: debug for rootfs [0] started
[2021-06-04 17:30:08] debug: PREV DIR: /root
[2021-06-04 17:30:08] debug: Data DIR: /dev/bootchain/src/step6
[2021-06-04 17:30:08] debug: DEST DIR: /dev/bootchain/dst/step6
##############################
Previous step results (/root):
bin/
boot/
dev/
etc/
home/
image/
lib/
lib64/
libx32/
media/
mnt/
opt/
proc/
root/
run/
sbin/
selinux/
srv/
sys/
tmp/

Mount points and devices:
/dev/loop0 on /root/image type iso9660 (ro,relatime,nojoliet,check=s,map=n,blocksize=2048)
/dev/loop1 on /root/.ro type squashfs (ro,relatime)
none on /root/.rw type tmpfs (rw,relatime,mode=755)
##############################
[2021-06-04 17:30:08] debug: debug for rootfs [0] finished
[2021-06-04 17:30:08] bootchain-loop: RUN: /lib/bootchain/rootfs
[2021-06-04 17:30:08] bootchain-loop: RUN: touch /.initrd/bootchain/passed/rootfs
[2021-06-04 17:30:08] bootchain-loop: [0] Handler: /lib/bootchain/debug
[2021-06-04 17:30:08] debug: debug for STAGE2 [0] started
[2021-06-04 17:30:08] debug: PREV DIR: /root
[2021-06-04 17:30:08] debug: Data DIR: 
[2021-06-04 17:30:08] debug: DEST DIR: 
##############################
Previous step results (/root):
bin/
boot/
dev/
etc/
home/
image/
lib/
lib64/
libx32/
media/
mnt/
opt/
proc/
root/
run/
sbin/
selinux/
srv/
sys/
tmp/

Mount points and devices:
/dev/loop0 on /root/image type iso9660 (ro,relatime,nojoliet,check=s,map=n,blocksize=2048)
/dev/loop1 on /root/.ro type squashfs (ro,relatime)
none on /root/.rw type tmpfs (rw,relatime,mode=755)
##############################
[2021-06-04 17:30:08] debug: debug for STAGE2 [0] finished
[2021-06-04 17:30:08] bootchain-loop: last step finished with exit code 2
[2021-06-04 17:30:08] bootchain-loop: RUN: cp -Lf -- /var/log/bootchained.log /root/var/log/
